set(SRC_CPP
   src/main.cpp
)

pv_add_test(MPI_ONLY MIN_MPI_COPIES 4 MAX_MPI_COPIES 4 SRCFILES ${SRC_CPP} ${SRC_HPP})

get_filename_component(BASE_NAME ${CMAKE_CURRENT_SOURCE_DIR} NAME)
set(TEST_NAME "${TEST_BASE_NAME}_4MtoN")
add_test(
  NAME ${TEST_NAME}
  WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
  COMMAND ${MPIEXEC} ${MPIEXEC_NUMPROC_FLAG} 4 ${PV_MPI_OPTIONS_EXTRA} ${MPIEXEC_PREFLAGS} ${PV_SYSTEM_TEST_COMMAND} ${TEST_BINARY} "input/config_4MtoN.txt"
)
