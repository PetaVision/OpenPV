//
// params.strings
//  - input parameters for strings.cpp
//  - this case study examines hierarchical processing of strings
//

HyPerCol "column" = {
   nx = 32;
   ny =  1;
   dt = .5;
};

//
// Three layers, "Strings", "Complex", "Complex Inhib"
//

HyPerLayer "S1" = {
   nxScale = 8;
   nyScale = 1;
   marginWidth = 4;
   
   pJitter = 0.1;       // jitter probability
   pMove   = 0.0025;    // switch between 'a' and 'b'
   
   beginStim = 0;
   endStim   = 9000000;

   //   burstFreq = 40; //25; // 0.001; //20;   // Hz
   //   burstDuration = 1000; //7.5; //1000000; // ms

   spikingFlag = 1;     // spike as poisson

   noiseOnFreq  = 100;     // (Hz) when this is defined poissonEdge overridden
   noiseOffFreq = 25;      // (Hz) when this is defined poissonBlank overridden
};

HyPerLayer "C1" = {
   nxScale = 2;
   nyScale = 1;
   
   noiseAmpE = 0.2;
   noiseAmpI = 0.2;
   noiseAmpIB = 0.0;
   Vrest   = -70.0; //Change VthRest Variable
   VthRest = -55.0; //Vrest + 15.0
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 5.0;
   tauIB = 10.0;
   tauVth = 10.0;
   deltaVth = 5.0;
};

HyPerLayer "C1i" = {
   nxScale = 1;
   nyScale = 1;
   
   noiseAmpE = 0.2;
   noiseAmpI = 0.2;
   noiseAmpIB = 0.0;
   Vrest   = -70.0; //Change VthRest Variable
   VthRest = -55.0; //Vrest + 15.0
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 5.0;
   tauIB = 10.0;
   tauVth = 10.0;
   deltaVth = 5.0;
};

//
// 1 connection, 
//    "Strings to Complex"
//

HyPerConn "S1 to C1" = {
   nxp = 3; // each S1 cell should see 3 characters to be consistent maybe increase scale of S1 to 4
   nyp = 1;

   initFromLastFlag = 0;

   wMinInit = 1.0;
   wMaxInit = 2.0;

   wMin = 0.0;
   wMax = 5;       // 0.75; is stdp value
   dWMax = 0.02;
   
   stdpFlag   = 1;
   randomFlag = 1;
   uniformWeights = 1;
   
   writeStep = 10000;

   ampLTP = 1.0;
   ampLTD = 1.2;
   tauLTP = 20;
   tauLTD = 20;
};

HyPerConn "C1 to C1i" = {
   nxp = 1;
   nyp = 1;
   strength = 32; // 4 excitatory inputs // 8; stdp for 16 inputs 
   delay = 0;

   sigma = 100;
   rMax  = 100;
};

HyPerConn "C1i to C1" = {
   nxp = 2;
   nyp = 1;
   strength = 32; // 1 inhibitory input // 32; stdp for 1 input
   delay = 0;
   
   sigma = 100;
   rMax  = 100;
};
