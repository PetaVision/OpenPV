//
// params.geisler
//  - input parameters for geisler.cpp, a study of geisler kernels with amoeba/no-amoeba images
//

HyPerCol "column" = {
   nx = 256;   // until we get going with images
   ny = 256;
   dt = 1.0;
};

//
// 7 layers, "Retina"+"Image", "LGN", "LGNInhFF", "LGNInh", "L1", "L1InhFF", "L1Inh"
//

HyPerLayer "Image" = {
   // unnecessary ?
   stepSize = 2;
   persistenceProb = 1;
   writeNonspikingActivity = 0;
   marginWidth = 0; 
    // burstFreq = 12;
};

HyPerLayer "Retina" = {
   nxScale = 1;
   nyScale = 1;
   marginWidth = 3;
   mirrorBCflag = 0;  

   beginStim = 200;
   endStim   = 12200;

   burstFreq = 1;      // Hz
   burstDuration = 10000;  // ms

   spikingFlag = 1;        // spike as poisson
   invert = 0;
   writeNonspikingActivity = 0;

   noiseOnFreq  = 200;    // (Hz) when this is defined poissonEdge overridden
   noiseOffFreq = 10;    // (Hz) when this is defined poissonEdge overridden
};

HyPerLayer "LGN" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 1;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 4;
   mirrorBCflag = 1;  
   restart = 0;
   
   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI= 0.5;  
   noiseAmpIB = 0.0;  
};

HyPerLayer "LGNInhFF" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 1;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 4;
   mirrorBCflag = 1;  
   restart = 0;

   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI= 0.5;  
   noiseAmpIB = 0.0;  
};

HyPerLayer "LGNInh" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 1;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 4;
   mirrorBCflag = 1;  
   restart = 0;
   
   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI= 0.5;  
   noiseAmpIB = 0.0;  
};


HyPerLayer "L1" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 8;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 32;
   mirrorBCflag = 1;  
   restart = 0;
   
   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI= 0.5;  
   noiseAmpIB = 0.0;  
};


HyPerLayer "L1InhFF" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 8;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 4;
   mirrorBCflag = 1;  
   restart = 0;
   
   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI= 0.5;  
   noiseAmpIB = 0.0;  
};


HyPerLayer "L1Inh" = {
   nxScale = 1; 
   nyScale = 1; 
   nf = 8;
   spikingFlag = 1;   
   writeNonspikingActivity = 0;
   
   marginWidth = 4;
   mirrorBCflag = 1;  
   restart = 0;
   
   Vrest = -70.0;
   Vexc = 0.0;
   Vinh = -75.0;
   VinhB = -90.0;
   tau = 20.0;
   tauE = 1.0;
   tauI = 3.0;
   tauIB = 5.0;
   VthRest = -55.0;
   tauVth = 5.0;
   deltaVth = 5.0;
   noiseFreqE = 250.0;
   noiseFreqI = 250.0;
   noiseFreqIB = 250.0;
   noiseAmpE = 0.5;
   noiseAmpI = 0.5;  
   noiseAmpIB = 0.0;  
};


///////
// 31 connections: 
//    "Retina to LGN"
//    "Retina to LGNInhFF"
//    "LGN to LGNInh"
//    "LGN to LGNInhFF"
//    "LGN to L1"
//    "LGN to L1InhFF"
//    "LGNInhFF to LGN"
//    "LGNInhFF to LGN InhB"
//    "LGNInhFF to LGNInhFF Exc"
//    "LGNInhFF to LGNInhFF"
//    "LGNInhFF to LGNInhFF InhB"
//    "LGNInhFF to LGNInh"
//    "LGNInhFF to LGNInh InhB"
//    "LGNInh to LGN"
//    "L1Inh to L1Inh Exc"
//    "L1Inh to L1Inh"
//    "L1 to LGN"
//    "L1 to LGNInh"
//    "L1 to L1"
//    "L1 to L1InhFF"
//    "L1 to L1Inh"
//    "L1InhFF to L1"
//    "L1InhFF to L1 InhB"
//    "L1InhFF to L1InhFF"
//    "L1InhFF to L1InhFF InhB"
//    "L1InhFF to L1InfFF Exc"
//    "L1InhFF to L1Inh"
//    "L1InhFF to L1Inh InhB"
//    "L1Inh to L1"
//    "L1Inh to L1Inh Exc"
//    "L1Inh to L1Inh Inh"


// Retina connections

HyPerConn "Image to Retina" = {
   nxp = 1; 
   nyp = 1; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  

   aspect = 1;
   sigma = 1;
   rMax  = 1;
   
   strength =  1.0; 
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
};


HyPerConn "Retina to LGN" = {
   nxp = 1; 
   nyp = 1; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  

   aspect = 1;
   sigma = 1;
   rMax  = 1;
   
   strength = 3;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
};


HyPerConn "Retina to LGNInhFF" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 8.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
};



// LGN connections

HyPerConn "LGN to LGNInh" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 8.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   delay = 0;
   
};

HyPerConn "LGN to L1" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0; 
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
      
   strength = 48.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 8; //7.0;
};


HyPerConn "LGN to L1InhFF" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0; 
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;   
   
   strength = 48.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 8; //7.0;
};



// LGNInhFF connections

HyPerConn "LGNInhFF to LGN" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 4.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 0.0;
   
};


HyPerConn "LGNInhFF to LGNInh" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 0.0; //1.0; 
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   //delay = 1.0;
   
};



// LGN Inh connections

HyPerConn "LGNInh to LGN" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 8; //4.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   //delay = 1.0;
   
};


HyPerConn "LGNInh to LGNInh Exc" = {
   nxp = 3; 
   nyp = 3; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  
   
   aspect = 1;
   sigma = 1.5;
   rMax  = 3;
   
   strength = 0.0; //3.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
};

HyPerConn "LGNInh to LGNInh" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;   
   initFromLastFlag = 0; // 1;   

   aspect = 1;
   sigma = 5;
   rMax  = 7;
   
   strength = 0.0; //3.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   //delay = 1.0; 
};




// L1 connections 

HyPerConn "L1 to LGN" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 5;
   sigma = 5;
   rMax  = 7;
   rotate = 1;
      
   strength = 1.0; //0.5;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 8; //7.0;
};

HyPerConn "L1 to LGNInh" = {
   nxp = 7; 
   nyp = 7; 
   
   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 5;
   sigma = 5;
   rMax  = 7;
   rotate = 1;
      
   strength = 2.0; //1.0;  
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 8; //7.0;
};

HyPerConn "L1 to L1" = {
   nxp = 65;
   nyp = 65;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   strength = 24.0;//16.0
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 18; 
};


HyPerConn "L1 to L1Inh" = {
   nxp = 65; 
   nyp = 65; 

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   strength = 144.0;//128; //
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
      
   delay = 18;
};




// L1InhFF connections

HyPerConn "L1InhFF to L1" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 0.3926875; // PI / 8;
   deltaThetaMax =  0.52360; //PI / 6;
   
   numFlanks = 2;
   flankShift = 1.4;

   strength = 2.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;

   delay = 1.0;
};

HyPerConn "L1InhFF to L1 NonOriented" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 1;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 10000.0; //0.3926875; // PI / 8;
   deltaThetaMax = 10000.0; //0.52360; //PI / 6;
   
   numFlanks = 1;
   flankShift = 0;

   strength = 0.0; //6.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;

   delay = 1.0;
};


HyPerConn "L1InhFF to L1Inh" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 0.3926875; // PI / 8;
   deltaThetaMax =  0.52360; //PI / 6;
   
   numFlanks = 2;
   flankShift = 1.4;

   strength = 2.0; //1.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;

   delay = 1.0;
};




// L1 Inh connections

HyPerConn "L1Inh to L1" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 0.3926875; // PI / 8;
   deltaThetaMax =  0.52360; //PI / 6;
   
   numFlanks = 1;
   flankShift = 0;

   strength = 2.0;//1.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;

   delay = 1.0;
};

HyPerConn "L1Inh to L1Inh Exc" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 0.3926875; // PI / 8;
   deltaThetaMax = 0.3926875; // PI / 8; // 3.1415926535897931; //PI;

   strength = 0.0; //3.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;
   
   delay = 1.0;
};

HyPerConn "L1Inh to L1Inh Inh" = {
   nxp = 7;
   nyp = 7;

   stdpFlag   = 0;
   randomFlag = 0;  
   initFromLastFlag = 0;  // 1;  // restart

   aspect = 7;
   sigma = 7;
   rMax  = 7;
   rotate = 1;
   
   sigma_cocirc = 0.3926875; // PI / 8;
   deltaThetaMax =  0.52360; //PI / 6;
   
   numFlanks = 1;
   flankShift = 0;

   strength = 0.0; //1.0;
   normalize = 1.0;
   normalize_zero_offset = 0.0;
   normalize_max = 0.0;

   delay = 1.0;
};






