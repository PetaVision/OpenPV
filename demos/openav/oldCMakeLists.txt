cmake_minimum_required(VERSION 2.8)

set(CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/../../cmake")
include(PVConfigProject)
include(PVAddExecutable)

pv_config_project()

# Name the target based on the directory name

get_filename_component(TARGET ${CMAKE_CURRENT_SOURCE_DIR} NAME)

set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -std=c++11")
set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} -std=c++11")


include_directories("${CMAKE_CURRENT_SOURCE_DIR}/../../lib/include")
include_directories("${CMAKE_CURRENT_SOURCE_DIR}/../../src")
include_directories("${CMAKE_CURRENT_SOURCE_DIR}/include")
link_directories("${CMAKE_CURRENT_SOURCE_DIR}/lib")

file(GLOB AUDIO_SRC "${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp")

# Add the executable
pv_add_executable(${TARGET} SRC ${AUDIO_SRC})
target_link_libraries(${TARGET} -lAquila -lOoura_fft)

